[38;2;127;132;156m   1[0m [38;2;205;214;244m#\!/usr/bin/env python3[0m
[38;2;127;132;156m   2[0m [38;2;205;214;244m"""Test multiple colors to compare Python vs Rust behavior."""[0m
[38;2;127;132;156m   3[0m 
[38;2;127;132;156m   4[0m [38;2;205;214;244mimport subprocess[0m
[38;2;127;132;156m   5[0m [38;2;205;214;244mimport numpy as np[0m
[38;2;127;132;156m   6[0m [38;2;205;214;244mfrom colour import sRGB_to_XYZ, XYZ_to_xyY[0m
[38;2;127;132;156m   7[0m [38;2;205;214;244mfrom colour.notation.munsell import xyY_to_munsell_colour[0m
[38;2;127;132;156m   8[0m 
[38;2;127;132;156m   9[0m [38;2;205;214;244m# Test various colors[0m
[38;2;127;132;156m  10[0m [38;2;205;214;244mtest_colors = [[0m
[38;2;127;132;156m  11[0m [38;2;205;214;244m    ("Red", [255, 0, 0]),[0m
[38;2;127;132;156m  12[0m [38;2;205;214;244m    ("Green", [0, 255, 0]),[0m
[38;2;127;132;156m  13[0m [38;2;205;214;244m    ("Blue", [0, 0, 255]),[0m
[38;2;127;132;156m  14[0m [38;2;205;214;244m    ("Yellow", [255, 255, 0]),[0m
[38;2;127;132;156m  15[0m [38;2;205;214;244m    ("Cyan", [0, 255, 255]),[0m
[38;2;127;132;156m  16[0m [38;2;205;214;244m    ("Magenta", [255, 0, 255]),[0m
[38;2;127;132;156m  17[0m [38;2;205;214;244m    ("Orange", [255, 128, 0]),[0m
[38;2;127;132;156m  18[0m [38;2;205;214;244m    ("Purple", [128, 0, 128]),[0m
[38;2;127;132;156m  19[0m [38;2;205;214;244m    ("Gray", [128, 128, 128]),[0m
[38;2;127;132;156m  20[0m [38;2;205;214;244m    ("White", [255, 255, 255]),[0m
[38;2;127;132;156m  21[0m [38;2;205;214;244m    ("Black", [0, 0, 0])[0m
[38;2;127;132;156m  22[0m [38;2;205;214;244m][0m
[38;2;127;132;156m  23[0m 
[38;2;127;132;156m  24[0m [38;2;205;214;244mprint("=" * 80)[0m
[38;2;127;132;156m  25[0m [38;2;205;214;244mprint("COMPARING PYTHON vs RUST MUNSELL CONVERSIONS")[0m
[38;2;127;132;156m  26[0m [38;2;205;214;244mprint("=" * 80)[0m
[38;2;127;132;156m  27[0m 
[38;2;127;132;156m  28[0m [38;2;205;214;244mfor name, rgb in test_colors:[0m
[38;2;127;132;156m  29[0m [38;2;205;214;244m    # Python conversion[0m
[38;2;127;132;156m  30[0m [38;2;205;214;244m    rgb_norm = np.array([rgb[0]/255.0, rgb[1]/255.0, rgb[2]/255.0])[0m
[38;2;127;132;156m  31[0m [38;2;205;214;244m    xyz = sRGB_to_XYZ(rgb_norm)[0m
[38;2;127;132;156m  32[0m [38;2;205;214;244m    xyy = XYZ_to_xyY(xyz)[0m
[38;2;127;132;156m  33[0m [38;2;205;214;244m    [0m
[38;2;127;132;156m  34[0m [38;2;205;214;244m    try:[0m
[38;2;127;132;156m  35[0m [38;2;205;214;244m        munsell_python = xyY_to_munsell_colour(xyy)[0m
[38;2;127;132;156m  36[0m [38;2;205;214;244m        print(f"\n{name} RGB{tuple(rgb)}:")[0m
[38;2;127;132;156m  37[0m [38;2;205;214;244m        print(f"  Python: {munsell_python}")[0m
[38;2;127;132;156m  38[0m [38;2;205;214;244m    except Exception as e:[0m
[38;2;127;132;156m  39[0m [38;2;205;214;244m        print(f"\n{name} RGB{tuple(rgb)}:")[0m
[38;2;127;132;156m  40[0m [38;2;205;214;244m        print(f"  Python: ERROR - {e}")[0m
[38;2;127;132;156m  41[0m [38;2;205;214;244m        munsell_python = "ERROR"[0m
[38;2;127;132;156m  42[0m [38;2;205;214;244m    [0m
[38;2;127;132;156m  43[0m [38;2;205;214;244m    # Rust conversion[0m
[38;2;127;132;156m  44[0m [38;2;205;214;244m    try:[0m
[38;2;127;132;156m  45[0m [38;2;205;214;244m        result = subprocess.run([0m
[38;2;127;132;156m  46[0m [38;2;205;214;244m            ["./target/release/mathematical_convert_rgb", str(rgb[0]), str(rgb[1]), str(rgb[2])],[0m
[38;2;127;132;156m  47[0m [38;2;205;214;244m            capture_output=True,[0m
[38;2;127;132;156m  48[0m [38;2;205;214;244m            text=True,[0m
[38;2;127;132;156m  49[0m [38;2;205;214;244m            timeout=2[0m
[38;2;127;132;156m  50[0m [38;2;205;214;244m        )[0m
[38;2;127;132;156m  51[0m [38;2;205;214;244m        # Extract the Munsell notation from output (first line)[0m
[38;2;127;132;156m  52[0m [38;2;205;214;244m        lines = result.stdout.strip().split('\n')[0m
[38;2;127;132;156m  53[0m [38;2;205;214;244m        munsell_rust = lines[0] if lines else "NO OUTPUT"[0m
[38;2;127;132;156m  54[0m [38;2;205;214;244m        print(f"  Rust:   {munsell_rust}")[0m
[38;2;127;132;156m  55[0m [38;2;205;214;244m        [0m
[38;2;127;132;156m  56[0m [38;2;205;214;244m        # Check if they match[0m
[38;2;127;132;156m  57[0m [38;2;205;214;244m        if munsell_python \!= "ERROR" and munsell_rust \!= "NO OUTPUT":[0m
[38;2;127;132;156m  58[0m [38;2;205;214;244m            if munsell_python.strip() == munsell_rust.strip():[0m
[38;2;127;132;156m  59[0m [38;2;205;214;244m                print("  ‚úÖ EXACT MATCH\!")[0m
[38;2;127;132;156m  60[0m [38;2;205;214;244m            else:[0m
[38;2;127;132;156m  61[0m [38;2;205;214;244m                print("  ‚ùå DIFFERENT")[0m
[38;2;127;132;156m  62[0m [38;2;205;214;244m    except subprocess.TimeoutExpired:[0m
[38;2;127;132;156m  63[0m [38;2;205;214;244m        print(f"  Rust:   TIMEOUT")[0m
[38;2;127;132;156m  64[0m [38;2;205;214;244m    except Exception as e:[0m
[38;2;127;132;156m  65[0m [38;2;205;214;244m        print(f"  Rust:   ERROR - {e}")[0m
[38;2;127;132;156m  66[0m 
[38;2;127;132;156m  67[0m [38;2;205;214;244mprint("\n" + "=" * 80)[0m
